# 리스트와 반복문을 사용하여 계산하기
반복문은 리스트 자료형 변수를 대상으로 여러 가지 계산을 할 때 많이 사용된다.  
예를 들어 10번의 시험 성적을 담고 있는 a라는 변수가 있을 때 평균 성적은 다음과 같이 구할 수 있다.

```python
a = [90, 85, 95, 80, 90, 100, 85, 75, 85, 80]

a
[90, 85, 95, 80, 90, 100, 85, 75, 85, 80]

len(a)
10

sum = 0
for i in range(len(a)):
    sum = sum + a[i]
average = sum / len(a)

average
86.5
```

두 학생의 시험 성적의 합은 다음과 같이 구할 수 있다.

```python
s = []
a1 = [90, 85, 95, 80, 90, 100, 85, 75, 85, 80]
a2 = [95, 90, 90, 90, 95, 100, 90, 80, 95, 90]
for i in range(len(a1)):
    s.append(a1[i] + a2[i])
    
s
[185, 175, 185, 170, 185, 200, 175, 155, 180, 170]
```

## 리스트의 원소를 직접 반복문에서 사용하기
지금까지는 `for` 반복문을 사용할 때 `range` 명령으로 리스트에 적용할 인덱스 정수를 만들어서 리스트의 원소 값을 찾았다.  
하지만 `for` 반복문에서 리스트의 원소를 직접 뽑아 카운터 변수에 넣을 수도 있다.  
지금까지 반복문에서 사용해 온 `range` 명령은 사실 리스트를 만드는 명령이다.

```python
list(range(5))
[0, 1, 2, 3, 4]
```

따라서 다음 코드는

```python
for i in range(5):
    print(i)
0
1
2
3
4
```

다음 코드와 같다.

```python
for i in [0, 1, 2, 3, 4]:
    print(i)
0
1
2
3
4
```

따라서 가장 위에서 보인 한 학생의 평균 계산 코드는 다음 코드와 동일하다.

```python
sum = 0
for ai in a:             #a = [90, 85, 95, 80, 90, 100, 85, 75, 85, 80]
    sum = sum + ai
average = sum / len(a)

average
86.5
```


## enumerate 함수
때로는 반복문에 정수 인덱스가 필요할 때도 있다. 예를 들어 반복문에서 `append` 메서드를 쓰면 계산 속도가 저하된다.  
이때는 미리 저장 공간을 만들어 놓고 해당 위치에 계산 결과를 갱신해야 한다.  
`enumerate` 명령은 리스트의 원소를 반복하면서 동시에 인덱스 값도 생성한다.

```python
for i, e in enumerate(["a", "b", "c"]):
    print("i = %d, e = %s" % (i, e))
i = 0, e = a
i = 1, e = b
i = 2, e = c
s = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
a1 = [90, 85, 95, 80, 90, 100, 85, 75, 85, 80]
a2 = [95, 90, 90, 90, 95, 100, 90, 80, 95, 90]
for i, (a1i, a2i) in enumerate(zip(a1, a2)):
    s[i] = a1i + a2i
s
[185, 175, 185, 170, 185, 200, 175, 155, 180, 170]
```

## 리스트의 리스트
학생이 5명이고 각 학생이 10번의 시험에 대한 성적을 가진다면 다음과 같이 리스트의 리스트로 전체 시험 성적을 나타낼 수 있다.

```python
X = [[85,  90,  20,  50,  60,  25,  30,  75,  40,  55],
     [70, 100,  70,  70,  55,  75,  55,  60,  40,  45],
     [25,  65,  15,  25,  20,   5,  60,  70,  35,  10],
     [80,  45,  80,  40,  75,  35,  80,  55,  70,  90],
     [35,  50,  75,  25,  35,  70,  65,  50,  70,  10]]
```

이 때 전체 평균 점수는 다음과 같이 구한다.

```python
sum = 0
num = 0
for i in range(len(X)):
    for j in range(len(X[i])):
        num = num + 1
        sum = sum + X[i][j]
        
sum / num
52.7
```

## zip 함수
`zip 함수`는 두 개의 리스트를 합쳐서 각 리스트 원소의 쌍을 원소로 가지는 하나의 리스트를 만든다.  
파이썬 3에서는 명시적으로 `list` 명령을 사용해야 리스트가 된다.

```python
a12 = list(zip(a1, a2))
a12
[(90, 95),
 (85, 90),
 (95, 90),
 (80, 90),
 (90, 95),
 (100, 100),
 (85, 90),
 (75, 80),
 (85, 95),
 (80, 90)]
```

이 때 소괄호로 표시된 묶음은 `튜플(tuple)`이라고 하며 리스트와 사용법이 거의 동일하다.  
따라서 모든 학생의 두 과목 성적 합산을 구하는 코드는 다음과 같이 고칠 수 있다.

```python
s = []
a1 = [90, 85, 95, 80, 90, 100, 85, 75, 85, 80]
a2 = [95, 90, 90, 90, 95, 100, 90, 80, 95, 90]
for a1i, a2i in zip(a1, a2):
    s.append(a1i + a2i)
    
s
[185, 175, 185, 170, 185, 200, 175, 155, 180, 170]
```

`zip 함수`를 사용할 때 리스트의 리스트 인수를 하나만 넣고 인수의 앞에 `*` 기호를 붙이면 리스트 쌍을 바꾼다.

```python
a12
[(90, 95),
 (85, 90),
 (95, 90),
 (80, 90),
 (90, 95),
 (100, 100),
 (85, 90),
 (75, 80),
 (85, 95),
 (80, 90)]
a21 = list(zip(*a12))

a21
[(90, 85, 95, 80, 90, 100, 85, 75, 85, 80),
 (95, 90, 90, 90, 95, 100, 90, 80, 95, 90)]
 
list(zip(*a21))
[(90, 95),
 (85, 90),
 (95, 90),
 (80, 90),
 (90, 95),
 (100, 100),
 (85, 90),
 (75, 80),
 (85, 95),
 (80, 90)]
```
